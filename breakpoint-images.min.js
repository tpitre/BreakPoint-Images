/**
 * BreakPoint Images
 * Swap image src based on breakpoint stored in JSON data attribute
 * http://southleft.com
 *
 * Copyright 2012 Terrance Pitre / SouthLeft
 */
(function(p){var getWidth=function(){var width;if(document.body&&document.body.offsetWidth){width=document.body.offsetWidth;}
if(document.compatMode==='CSS1Compat'&&document.documentElement&&document.documentElement.offsetWidth){width=document.documentElement.offsetWidth;}
if(window.innerWidth){width=window.innerWidth;}
return width;};window.onload=function(){getWidth();};window.onresize=function(){getWidth();};var delayResize=(function(){var timer=0;return function(callback,ms){clearTimeout(timer);timer=setTimeout(callback,ms);};})();p.swapImgs=function(){var rSpan,dataObj={};if(document.getElementsByClassName){rSpan=document.getElementsByClassName('r-img');}
else{rSpan=document.querySelectorAll('.r-img');}
for(var i=0;i<rSpan.length;i++){if(rSpan[i].getAttribute('data-src')!==null){rSpan[i].innerHTML='';dataObj=eval(rSpan[i].getAttribute('data-src'));var img=new Image();if(rSpan[i].getAttribute('data-alt').length>0){img.alt=rSpan[i].getAttribute('data-alt');}
if(rSpan[i].getAttribute('data-title').length>0){img.title=rSpan[i].getAttribute('data-title');}
if(img.src.length<=0){rSpan[i].appendChild(img);}
for(var j=0;j<dataObj.length;j++){var nextJ=j+1||0;if(getWidth()<=parseInt(dataObj[0].bp)){img.src=dataObj[0].url;img.className="r-img-"+dataObj[0].bp;}else if(getWidth()>=parseInt(dataObj[j].bp)&&getWidth()<=parseInt(dataObj[j].bp)){img.src=dataObj[j].url;img.className="r-img-"+dataObj[j].bp;}else if(getWidth()>=parseInt(dataObj[j].bp)){img.src=dataObj[j].url;img.className="r-img-"+dataObj[j].bp;}}}}};p.swapImgs();window.onresize=function(){delayResize(function(){p.swapImgs();},100);};}(this));